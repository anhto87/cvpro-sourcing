<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>WebSocket Example</title>
</head>
<body>
<p>Messages:</p>
<div id="messages" style="width:800px;height:300px;overflow:scroll;"></div>

<script src="pushstream.js" type="text/javascript" language="javascript" charset="utf-8"></script>
<script type="text/javascript" language="javascript" charset="utf-8">
    // <![CDATA[
    function messageReceived(text, id, channel) {
        console.log(text, id, channel);
    };
    PushStream.LOG_LEVEL = 'debug';
    var pushstream = new PushStream({
        host: 'ko-1-pusher.vin.xoxo.live',
        port: '9080',
        modes: "websocket",
        urlPrefixWebsocket: "/ws",
        extraParams: function() {
            return {
                "app_key": "ye2kqb6I9iUcT9DbzR0wNw",
                "secret": "KdOdGDka"
            }
        }
    });
    //sPushStream.OPEN
    pushstream.onmessage = messageReceived;
    pushstream.onerror = function (error) {
        console.log('onerror',error);
    };
    pushstream.onstatuschange = function(state){
        console.log('onstatuschange',state);
    };
    pushstream.addChannel('my_channel_1');
    pushstream.connect();
    // ]]>
</script>
</body>
</html>